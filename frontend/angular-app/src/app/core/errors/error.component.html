<div class="error-container" *ngIf="show">
  <mat-card class="error-card error">
    <mat-card-header>
      <mat-card-title class="error-header">
        <mat-icon>{{ getErrorIcon(error) }}</mat-icon>
        <span class="error-title">{{ error.title }}</span>
      </mat-card-header>
    </mat-card-header>
    <mat-card-content>
      <div class="error-content">
        <p class="error-message">{{ error.message }}</p>

        <div class="error-details" *ngIf="error.details">
          <h4>错误详情</h4>
          <pre>{{ error.details || '无详细信息' }}</pre>
        </div>

        <div class="error-actions">
          <button mat-raised-button color="primary" (click)="closeError()">
            <mat-icon>close</mat-icon>
          </button>
          <button mat-stroked-button (click)="showSuccess('操作成功')">
            <mat-icon>check_circle</mat-icon>
          </button>
          <button mat-stroked-button (click)="showError('重试')">
            <mat-icon>refresh</mat-icon>
          </button>
        </div>
      </mat-card-content>
  </mat-card>
</div>

<!-- 加载状态 -->
<div class="loading-container" *ngIf="loading">
  <mat-card class="loading-card">
    <mat-card-content class="loading-content">
      <mat-spinner diameter="48"></mat-spinner>
      <p>正在处理错误...</p>
    </mat-card-content>
  </mat-card>
</div>